# üéâ –£—Å–ø–µ—à–Ω—ã–π –¥–µ–ø–ª–æ–π –Ω–∞ VPS!

**–î–∞—Ç–∞:** 2025-11-13  
**–ü—Ä–æ–µ–∫—Ç:** –¢–µ—Ö–Ω–æ–ú–æ–¥–µ—Ä–Ω - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∏—Ç–∞–π—Å–∫–∏–º–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –î–ï–ü–õ–û–ô –£–°–ü–ï–®–ï–ù

---

## üåê –î–æ—Å—Ç—É–ø –∫ —Å–∞–π—Ç—É

**Production URL:** http://155.212.164.197  
**–î–æ–º–µ–Ω:** techno-modern.ru (–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å DNS)

---

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
- ‚úÖ –°–µ—Ä–≤–µ—Ä: 155.212.164.197
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: root
- ‚úÖ OS: Ubuntu 24.04.3 LTS

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ü–û
- ‚úÖ Node.js 20.19.5
- ‚úÖ npm 10.8.2
- ‚úÖ Git 2.43.0
- ‚úÖ PM2 (latest)
- ‚úÖ Nginx 1.24.0

### 3. –î–µ–ø–ª–æ–π –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ü—Ä–æ–µ–∫—Ç —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –ü—É—Ç—å: `/var/www/technomodern-platform`
- ‚úÖ Environment variables –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ Dependencies —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (211 packages)
- ‚úÖ Production build —É—Å–ø–µ—à–µ–Ω

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ PM2 –∑–∞–ø—É—â–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫
- ‚úÖ Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–∞–∫ reverse proxy
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ HTTP

---

## üìä –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤

### PM2 Status
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ id ‚îÇ name         ‚îÇ mode     ‚îÇ pid     ‚îÇ uptime ‚îÇ status  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ 0  ‚îÇ technomodern ‚îÇ fork     ‚îÇ 3271    ‚îÇ 72s    ‚îÇ online  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### Nginx Status
- ‚úÖ Active (running)
- ‚úÖ –ü–æ—Ä—Ç 80 –æ—Ç–∫—Ä—ã—Ç
- ‚úÖ Proxy –Ω–∞ localhost:3000

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Environment Variables
```env
NEXT_PUBLIC_SUPABASE_URL=https://rbngpxwamfkunktxjtqh.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=[—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω]
NEXT_PUBLIC_TELEGRAM_URL=https://t.me/technomodern_support
NEXT_PUBLIC_WHATSAPP_NUMBER=79991234567
UNSPLASH_ACCESS_KEY=[—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω]
PEXELS_API_KEY=[—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω]
```

### Nginx Configuration
```nginx
server {
    listen 80 default_server;
    server_name 155.212.164.197 techno-modern.ru www.techno-modern.ru;

    location / {
        proxy_pass http://localhost:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

---

## üöÄ –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### PM2 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@155.212.164.197

# –°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pm2 status

# –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pm2 logs technomodern

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 restart technomodern

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
pm2 stop technomodern

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
pm2 monit
```

### Nginx –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```bash
# –°—Ç–∞—Ç—É—Å
systemctl status nginx

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
systemctl restart nginx

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
nginx -t

# –õ–æ–≥–∏
tail -f /var/log/nginx/access.log
tail -f /var/log/nginx/error.log
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@155.212.164.197

# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
cd /var/www/technomodern-platform

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—ã–π –∞—Ä—Ö–∏–≤ (—Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã)
scp /path/to/project.tar.gz root@155.212.164.197:/var/www/

# –†–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å –∏ –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
tar -xzf /var/www/project.tar.gz -C /var/www/technomodern-platform
npm install --legacy-peer-deps
npm run build
pm2 restart technomodern
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è production:

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS (SSL)**
   ```bash
   apt install -y certbot python3-certbot-nginx
   certbot --nginx -d techno-modern.ru -d www.techno-modern.ru
   ```

2. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Firewall**
   ```bash
   ufw allow 22/tcp
   ufw allow 80/tcp
   ufw allow 443/tcp
   ufw enable
   ```

3. **–ò–∑–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å root**
   ```bash
   passwd root
   ```

4. **–°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**
   ```bash
   adduser deploy
   usermod -aG sudo deploy
   ```

5. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSH –∫–ª—é—á–∏** (–≤–º–µ—Å—Ç–æ –ø–∞—Ä–æ–ª—è)

---

## üìà –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ:
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å DNS –¥–ª—è –¥–æ–º–µ–Ω–∞ techno-modern.ru ‚Üí 155.212.164.197
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (Let's Encrypt)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å firewall (UFW)
- [ ] –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ:
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Grafana + Prometheus)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CDN (Cloudflare)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Actions –¥–ª—è CI/CD
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (ELK/Graylog)

---

## üéØ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
```bash
curl http://155.212.164.197
```
‚úÖ **–†–µ–∑—É–ª—å—Ç–∞—Ç:** HTML —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

### –ö–∞—Ç–∞–ª–æ–≥
–û—Ç–∫—Ä–æ–π—Ç–µ: http://155.212.164.197/catalog
‚úÖ **–û–∂–∏–¥–∞–µ—Ç—Å—è:** –°–ø–∏—Å–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ Supabase

### API
```bash
curl http://155.212.164.197/api/health
```
‚úÖ **–û–∂–∏–¥–∞–µ—Ç—Å—è:** Health check endpoint (–µ—Å–ª–∏ –µ—Å—Ç—å)

---

## üìù –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### React 19 peer dependency warning
- **–ü—Ä–æ–±–ª–µ–º–∞:** `vaul` —Ç—Ä–µ–±—É–µ—Ç React 18, –Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω React 19
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —Ñ–ª–∞–≥ `--legacy-peer-deps`
- **–í–ª–∏—è–Ω–∏–µ:** –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Ä–∞–±–æ—Ç—É

### Mac extended attributes
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è tar –æ `LIBARCHIVE.xattr.com.apple.*`
- **–†–µ—à–µ–Ω–∏–µ:** –ò–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è (–Ω–µ –≤–ª–∏—è—é—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É)
- **–í–ª–∏—è–Ω–∏–µ:** –ù–µ—Ç

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **GitHub:** https://github.com/Stasnakamodov/technomodern-platform
- **Supabase Dashboard:** https://supabase.com/dashboard
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Next.js:** https://nextjs.org/docs
- **PM2 Docs:** https://pm2.keymetrics.io/docs

---

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

- [x] –°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω
- [x] Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [x] –ü—Ä–æ–µ–∫—Ç –∑–∞–¥–µ–ø–ª–æ–µ–Ω
- [x] Environment variables –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [x] Build —É—Å–ø–µ—à–µ–Ω
- [x] PM2 –∑–∞–ø—É—â–µ–Ω
- [x] Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [x] –°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTP
- [x] –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ PM2 –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] HTTPS –Ω–∞—Å—Ç—Ä–æ–µ–Ω (—Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥)
- [ ] DNS –Ω–∞—Å—Ç—Ä–æ–µ–Ω (—Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥)
- [ ] Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω (—Å–ª–µ–¥—É—é—â–∏–π —à–∞–≥)

---

## üéä –ü–æ–∑–¥—Ä–∞–≤–ª—è—é!

–í–∞—à –ø—Ä–æ–µ–∫—Ç **–¢–µ—Ö–Ω–æ–ú–æ–¥–µ—Ä–Ω** —É—Å–ø–µ—à–Ω–æ –∑–∞–¥–µ–ø–ª–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ production —Å–µ—Ä–≤–µ—Ä–µ!

**URL:** http://155.212.164.197

–î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ production —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL (HTTPS)
2. –ü—Ä–∏–≤—è–∑–∞—Ç—å –¥–æ–º–µ–Ω
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–°–æ–∑–¥–∞–Ω–æ:** Claude Code  
**–î–∞—Ç–∞:** 2025-11-13
